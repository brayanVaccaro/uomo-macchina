@model UomoMacchina.Areas.Main.Data.SettimanaViewModel
@{
    var today = DateTime.Now.Date;
}

<nav class="navbar d-flex flex-column justify-content-center bg-body-tertiary">
    <!--Mese-->
    <div class="mesi d-flex flex-row justify-content-end">

        <div class="col">
            <i class="fa-solid fa-caret-left fa-2x"></i>

        </div>
        <div class="col">
            <h3 class="m-0">Gennaio</h3>

        </div>
        <div class="col">
            <i class="fa-solid fa-caret-right fa-2x"></i>
        </div>

        @* <div class="calendario">
        <i class="fa-regular fa-calendar-days fa-2x"></i>
        </div> *@

    </div>
    <div class="row">
        <ul class="navbar-nav d-flex flex-column col">

            @foreach (var settimana in Model.Settimane)
            {
                <li class="nav-item dropdown col">

                    @if (settimana.Giorni.Contains(today))
                    {
                        <a class="nav-link show" v-on:click="selezionaSettimana('@settimana.Nome')" role="button" data-bs-toggle="dropdown" aria-expanded="true">
                            @settimana.Nome
                        </a>

                        <ul class="dropdown-menu row show" data-bs-popper="static">
                            @foreach (var giorno in settimana.Giorni)
                            {
                                <li class="dropdown-item" v-on:click.stop="selezionaGiorno('@giorno.ToString("yyyy-MM-dd")')">
                                    <a>@giorno.ToString("dddd dd")</a>
                                </li>
                            }
                        </ul>
                    }
                    else
                    {
                        <a class="nav-link" v-on:click="selezionaSettimana('@settimana.Nome')" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            @settimana.Nome
                        </a>

                        <ul class="dropdown-menu row">
                            @foreach (var giorno in settimana.Giorni)
                            {
                                <li class="dropdown-item" v-on:click.stop="selezionaGiorno('@giorno.ToString("yyyy-MM-dd")')">

                                    <a>@giorno.ToString("dddd dd")</a>
                                    <!-- Aggiungi ulteriori elementi dell'interfaccia utente per ogni giorno qui -->

                                </li>
                            }
                        </ul>
                    }
                </li>
            }
        </ul>
    </div>
</nav>


<!-- Progress Bar -->
<div class="progress-stacked Prototipo" style="display: none">
    <div class="progress" role="progressbar" aria-label="Segment one" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: 50%">
        <div class="progress-bar bg-success"></div>
    </div>
    <div class="progress" role="progressbar" aria-label="Segment two" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 30%">
        <div class="progress-bar bg-warning"></div>
    </div>
</div>
